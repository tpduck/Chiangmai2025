<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ê∏ÖÈÇÅÊîæÁ©∫Âúò - Ë®òÂ∏≥ÁÆ°ÁêÜÁ≥ªÁµ±</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .lucide {
            width: 20px;
            height: 20px;
            stroke: currentColor;
            stroke-width: 2;
            fill: none;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;
        
        // Á∞°ÂåñÁöÑÂúñÊ®ôÁµÑ‰ª∂
        const Icon = ({ name, className = "" }) => {
            const icons = {
                plus: "M12 5v14m-7-7h14",
                trash: "m3 6 3 12c0 .6.4 1 1 1h8c.6 0 1-.4 1-1l3-12M8 6V4c0-.6.4-1 1-1h4c.6 0 1 .4 1 1v2m3 0H5",
                calculator: "M9 7h-3v-3h3v3zm0 4h-3v-3h3v3zm0 4h-3v-3h3v3zm4-8h-3v-3h3v3zm0 4h-3v-3h3v3zm4-4h-3v-3h3v3zm-4 8h-3v-3h3v3zm4 0h-3v-7h3v7z",
                users: "M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2M9 7a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM22 21v-2a4 4 0 0 0-3-3.87M16 3.13a4 4 0 0 1 0 7.75",
                wallet: "M19 7V6a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1v-3M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4a1 1 0 0 0-1-1H3",
                dollar: "M12 1v22M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",
                edit: "M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7M18.5 2.5a2.1 2.1 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"
            };
            
            return (
                <svg className={`lucide ${className}`} viewBox="0 0 24 24">
                    <path d={icons[name]} stroke="currentColor" strokeWidth="2" fill="none" strokeLinecap="round" strokeLinejoin="round"/>
                </svg>
            );
        };

        const GroupExpenseTracker = () => {
          const [friends, setFriends] = useState(['', '', '', '', '', '']);
          const [publicFunds, setPublicFunds] = useState({ TWD: 0, THB: 0 });
          const [publicContributions, setPublicContributions] = useState({ TWD: 0, THB: 0 });
          const [expenses, setExpenses] = useState([]);
          const [showAddExpense, setShowAddExpense] = useState(false);
          const [showAddFunds, setShowAddFunds] = useState(false);
          const [showSettlement, setShowSettlement] = useState(false);
          const [editingExpense, setEditingExpense] = useState(null);

          const [newExpense, setNewExpense] = useState({
            description: '',
            amount: '',
            currency: 'THB',
            paidBy: 'public',
            usedBy: [],
            date: new Date().toISOString().split('T')[0],
            calculatorInput: ''
          });

          const [newFund, setNewFund] = useState({
            perPersonAmount: '',
            currency: 'THB',
            calculatorInput: ''
          });

          const exchangeRate = 1.1;

          const getValidFriends = () => friends.filter(friend => friend.trim() !== '');

          const updateFriend = (index, name) => {
            const newFriends = [...friends];
            newFriends[index] = name;
            setFriends(newFriends);
          };

          const calculateAmount = (input) => {
            try {
              const result = Function('"use strict"; return (' + input + ')')();
              return result;
            } catch (e) {
              return 0;
            }
          };

          const addPublicFund = () => {
            const perPersonAmount = newFund.calculatorInput ? 
              calculateAmount(newFund.calculatorInput) : 
              parseFloat(newFund.perPersonAmount) || 0;
            
            const validFriends = getValidFriends();
            const totalAmount = perPersonAmount * validFriends.length;
            
            if (perPersonAmount > 0 && validFriends.length > 0) {
              setPublicFunds(prev => ({
                ...prev,
                [newFund.currency]: prev[newFund.currency] + totalAmount
              }));
              
              setPublicContributions(prev => ({
                ...prev,
                [newFund.currency]: prev[newFund.currency] + perPersonAmount
              }));
              
              setNewFund({ perPersonAmount: '', currency: 'THB', calculatorInput: '' });
              setShowAddFunds(false);
            }
          };

          const handleShowAddExpense = () => {
            if (!showAddExpense) {
              setNewExpense(prev => ({
                ...prev,
                usedBy: [...getValidFriends()]
              }));
            }
            setShowAddExpense(!showAddExpense);
          };

          const startEditExpense = (expense) => {
            if (expense.paidBy === 'public') {
              setPublicFunds(prev => ({
                ...prev,
                [expense.currency]: prev[expense.currency] + expense.amount
              }));
            }
            
            setEditingExpense(expense.id);
            setNewExpense({
              description: expense.description,
              amount: expense.amount.toString(),
              currency: expense.currency,
              paidBy: expense.paidBy,
              usedBy: [...expense.usedBy],
              date: expense.date,
              calculatorInput: ''
            });
            setShowAddExpense(true);
          };

          const cancelEdit = () => {
            if (editingExpense) {
              const originalExpense = expenses.find(e => e.id === editingExpense);
              if (originalExpense && originalExpense.paidBy === 'public') {
                setPublicFunds(prev => ({
                  ...prev,
                  [originalExpense.currency]: prev[originalExpense.currency] - originalExpense.amount
                }));
              }
            }
            
            setEditingExpense(null);
            setNewExpense({
              description: '',
              amount: '',
              currency: 'THB',
              paidBy: 'public',
              usedBy: [],
              date: new Date().toISOString().split('T')[0],
              calculatorInput: ''
            });
            setShowAddExpense(false);
          };

          const updateExpense = () => {
            const amount = newExpense.calculatorInput ? 
              calculateAmount(newExpense.calculatorInput) : 
              parseFloat(newExpense.amount) || 0;

            const validFriends = getValidFriends();
            const validUsedBy = newExpense.usedBy.filter(friend => validFriends.includes(friend));

            if (newExpense.description && amount > 0 && validUsedBy.length > 0) {
              const updatedExpense = {
                id: editingExpense,
                description: newExpense.description,
                amount: amount,
                currency: newExpense.currency,
                paidBy: newExpense.paidBy,
                usedBy: validUsedBy,
                date: newExpense.date
              };

              setExpenses(expenses.map(expense => 
                expense.id === editingExpense ? updatedExpense : expense
              ));
              
              if (newExpense.paidBy === 'public') {
                setPublicFunds(prev => ({
                  ...prev,
                  [newExpense.currency]: prev[newExpense.currency] - amount
                }));
              }

              setEditingExpense(null);
              setNewExpense({
                description: '',
                amount: '',
                currency: 'THB',
                paidBy: 'public',
                usedBy: [],
                date: new Date().toISOString().split('T')[0],
                calculatorInput: ''
              });
              setShowAddExpense(false);
            }
          };

          const addExpense = () => {
            const amount = newExpense.calculatorInput ? 
              calculateAmount(newExpense.calculatorInput) : 
              parseFloat(newExpense.amount) || 0;

            const validFriends = getValidFriends();
            const validUsedBy = newExpense.usedBy.filter(friend => validFriends.includes(friend));

            if (newExpense.description && amount > 0 && validUsedBy.length > 0) {
              if (editingExpense) {
                updateExpense();
              } else {
                const expense = {
                  id: Date.now(),
                  description: newExpense.description,
                  amount: amount,
                  currency: newExpense.currency,
                  paidBy: newExpense.paidBy,
                  usedBy: validUsedBy,
                  date: newExpense.date
                };

                setExpenses([...expenses, expense]);
                
                if (newExpense.paidBy === 'public') {
                  setPublicFunds(prev => ({
                    ...prev,
                    [newExpense.currency]: prev[newExpense.currency] - amount
                  }));
                }

                setNewExpense({
                  description: '',
                  amount: '',
                  currency: 'THB',
                  paidBy: 'public',
                  usedBy: [],
                  date: new Date().toISOString().split('T')[0],
                  calculatorInput: ''
                });
                setShowAddExpense(false);
              }
            }
          };

          const toggleUsedBy = (friend) => {
            setNewExpense(prev => ({
              ...prev,
              usedBy: prev.usedBy.includes(friend) 
                ? prev.usedBy.filter(f => f !== friend)
                : [...prev.usedBy, friend]
            }));
          };

          const removeExpense = (expenseId) => {
            const expense = expenses.find(e => e.id === expenseId);
            if (expense && expense.paidBy === 'public') {
              setPublicFunds(prev => ({
                ...prev,
                [expense.currency]: prev[expense.currency] + expense.amount
              }));
            }
            setExpenses(expenses.filter(e => e.id !== expenseId));
          };

          const calculateFinalSettlement = () => {
            const validFriends = getValidFriends();
            const balances = {};
            
            validFriends.forEach(friend => {
              balances[friend] = { TWD: 0, THB: 0 };
            });

            expenses.forEach(expense => {
              const perPersonCost = expense.amount / expense.usedBy.length;
              
              expense.usedBy.forEach(user => {
                if (validFriends.includes(user)) {
                  balances[user][expense.currency] -= perPersonCost;
                }
              });

              if (expense.paidBy !== 'public' && validFriends.includes(expense.paidBy)) {
                balances[expense.paidBy][expense.currency] += expense.amount;
              }
            });

            validFriends.forEach(friend => {
              balances[friend].TWD += publicContributions.TWD;
              balances[friend].THB += publicContributions.THB;
            });

            return balances;
          };

          const convertToTWD = (amount, currency) => {
            return currency === 'THB' ? amount / exchangeRate : amount;
          };

          const formatCurrency = (amount, currency) => {
            return `${currency} ${amount.toFixed(2)}`;
          };

          const validFriends = getValidFriends();
          const balances = calculateFinalSettlement();

          return (
            <div className="max-w-4xl mx-auto p-6 bg-gradient-to-br from-orange-50 to-yellow-50 min-h-screen">
              <div className="bg-white rounded-2xl shadow-xl p-8">
                <div className="text-center mb-8">
                  <h1 className="text-4xl font-bold text-orange-600 mb-2">üèõÔ∏è Ê∏ÖÈÇÅÊîæÁ©∫Âúò üõ∫</h1>
                  <p className="text-gray-600">Ë®òÂ∏≥ÁÆ°ÁêÜÁ≥ªÁµ±</p>
                </div>

                {/* ÂúòÂì°ÁÆ°ÁêÜ */}
                <div className="mb-8 bg-orange-50 rounded-lg p-6">
                  <div className="flex items-center gap-2 mb-4">
                    <Icon name="users" className="text-orange-600" />
                    <h2 className="text-2xl font-bold text-orange-800">ÂúòÂì°ÁÆ°ÁêÜ (6‰∫∫)</h2>
                  </div>
                  
                  <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                    {friends.map((friend, index) => (
                      <div key={index} className="flex items-center gap-2">
                        <span className="text-sm text-gray-600 w-8">#{index + 1}</span>
                        <input
                          type="text"
                          value={friend}
                          onChange={(e) => updateFriend(index, e.target.value)}
                          placeholder={`ÂúòÂì° ${index + 1} ÂßìÂêç`}
                          className="flex-1 p-3 border border-orange-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"
                        />
                      </div>
                    ))}
                  </div>
                  
                  <div className="mt-4 text-sm text-gray-600">
                    Â∑≤Â°´ÂØ´ÂúòÂì°: {validFriends.length}/6 ‰∫∫
                    {validFriends.length > 0 && (
                      <span className="ml-2">({validFriends.join(', ')})</span>
                    )}
                  </div>
                </div>

                {/* ÂÖ¨Ë≤ªÁÆ°ÁêÜ */}
                <div className="mb-8 bg-green-50 rounded-lg p-6">
                  <div className="flex items-center justify-between mb-4">
                    <div className="flex items-center gap-2">
                      <Icon name="wallet" className="text-green-600" />
                      <h2 className="text-2xl font-bold text-green-800">ÂÖ¨Ë≤ªÁÆ°ÁêÜ</h2>
                    </div>
                    <button
                      onClick={() => setShowAddFunds(!showAddFunds)}
                      className="px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 flex items-center gap-2"
                      disabled={validFriends.length === 0}
                    >
                      <Icon name="plus" />
                      Êî∂ÂèñÂÖ¨Ë≤ª
                    </button>
                  </div>

                  <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-4">
                    <div className="space-y-3">
                      <h3 className="font-semibold text-green-800">ÂÖ¨Ë≤ªÈ§òÈ°ç</h3>
                      <div className="bg-white p-4 rounded-lg border border-green-200">
                        <div className="text-sm text-gray-600">Âè∞Âπ£È§òÈ°ç</div>
                        <div className="text-2xl font-bold text-green-600">TWD {publicFunds.TWD.toFixed(2)}</div>
                      </div>
                      <div className="bg-white p-4 rounded-lg border border-green-200">
                        <div className="text-sm text-gray-600">Ê≥∞ÈäñÈ§òÈ°ç</div>
                        <div className="text-2xl font-bold text-green-600">THB {publicFunds.THB.toFixed(2)}</div>
                      </div>
                    </div>
                    
                    <div className="space-y-3">
                      <h3 className="font-semibold text-green-800">ÊØè‰∫∫Â∑≤Áπ≥ÂÖ¨Ë≤ª</h3>
                      <div className="bg-white p-4 rounded-lg border border-green-200">
                        <div className="text-sm text-gray-600">Âè∞Âπ£ (ÊØè‰∫∫)</div>
                        <div className="text-xl font-bold text-blue-600">TWD {publicContributions.TWD.toFixed(2)}</div>
                        <div className="text-xs text-gray-500">Á∏ΩË®à: TWD {(publicContributions.TWD * validFriends.length).toFixed(2)}</div>
                      </div>
                      <div className="bg-white p-4 rounded-lg border border-green-200">
                        <div className="text-sm text-gray-600">Ê≥∞Èäñ (ÊØè‰∫∫)</div>
                        <div className="text-xl font-bold text-blue-600">THB {publicContributions.THB.toFixed(2)}</div>
                        <div className="text-xs text-gray-500">Á∏ΩË®à: THB {(publicContributions.THB * validFriends.length).toFixed(2)}</div>
                      </div>
                    </div>
                  </div>

                  {showAddFunds && (
                    <div className="bg-white p-4 rounded-lg border border-green-200">
                      <h3 className="font-semibold text-green-800 mb-3">Êî∂ÂèñÂÖ¨Ë≤ª ({validFriends.length} ‰∫∫)</h3>
                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">ÊØè‰∫∫ÈáëÈ°çË®àÁÆó</label>
                          <input
                            type="text"
                            value={newFund.calculatorInput}
                            onChange={(e) => setNewFund(prev => ({ ...prev, calculatorInput: e.target.value }))}
                            placeholder="‰æã: 100*5+50"
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"
                          />
                          <div className="text-xs text-gray-500 mt-1">
                            ÊØè‰∫∫: {newFund.calculatorInput ? calculateAmount(newFund.calculatorInput) : 0}
                          </div>
                        </div>
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">ÊàñÁõ¥Êé•Ëº∏ÂÖ•ÊØè‰∫∫ÈáëÈ°ç</label>
                          <input
                            type="number"
                            value={newFund.perPersonAmount}
                            onChange={(e) => setNewFund(prev => ({ ...prev, perPersonAmount: e.target.value }))}
                            placeholder="ÊØè‰∫∫ÈáëÈ°ç"
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"
                          />
                        </div>
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">Âπ£Âà•</label>
                          <select
                            value={newFund.currency}
                            onChange={(e) => setNewFund(prev => ({ ...prev, currency: e.target.value }))}
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-green-500"
                          >
                            <option value="THB">Ê≥∞Èäñ (THB)</option>
                            <option value="TWD">Âè∞Âπ£ (TWD)</option>
                          </select>
                        </div>
                      </div>
                      
                      <div className="mt-3 p-3 bg-gray-50 rounded text-sm">
                        <strong>È†êË¶Ω:</strong> ÊØè‰∫∫Áπ≥‰∫§ {newFund.calculatorInput ? calculateAmount(newFund.calculatorInput) : (parseFloat(newFund.perPersonAmount) || 0)} {newFund.currency}Ôºå
                        Á∏ΩË®àÊî∂ÂÖ• {(newFund.calculatorInput ? calculateAmount(newFund.calculatorInput) : (parseFloat(newFund.perPersonAmount) || 0)) * validFriends.length} {newFund.currency}
                      </div>
                      
                      <div className="flex gap-2 mt-4">
                        <button
                          onClick={addPublicFund}
                          className="px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600"
                        >
                          Êî∂ÂèñÂÖ¨Ë≤ª
                        </button>
                        <button
                          onClick={() => setShowAddFunds(false)}
                          className="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"
                        >
                          ÂèñÊ∂à
                        </button>
                      </div>
                    </div>
                  )}
                </div>

                {/* ÊîØÂá∫ÁÆ°ÁêÜ */}
                <div className="mb-8 bg-blue-50 rounded-lg p-6">
                  <div className="flex items-center justify-between mb-4">
                    <div className="flex items-center gap-2">
                      <Icon name="dollar" className="text-blue-600" />
                      <h2 className="text-2xl font-bold text-blue-800">ÊîØÂá∫Ë®òÈåÑ</h2>
                    </div>
                    <button
                      onClick={handleShowAddExpense}
                      className="px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 flex items-center gap-2"
                      disabled={validFriends.length === 0}
                    >
                      <Icon name="plus" />
                      Êñ∞Â¢ûÊîØÂá∫
                    </button>
                  </div>

                  {showAddExpense && (
                    <div className="bg-white p-4 rounded-lg border border-blue-200 mb-4">
                      <h3 className="font-semibold text-blue-800 mb-3">
                        {editingExpense ? 'Á∑®ËºØÊîØÂá∫' : 'Êñ∞Â¢ûÊîØÂá∫'}
                      </h3>
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">ÊîØÂá∫ÊèèËø∞</label>
                          <input
                            type="text"
                            value={newExpense.description}
                            onChange={(e) => setNewExpense(prev => ({ ...prev, description: e.target.value }))}
                            placeholder="‰æã: ÊôöÈ§êË≤ªÁî®"
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                          />
                        </div>
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">Êó•Êúü</label>
                          <input
                            type="date"
                            value={newExpense.date}
                            onChange={(e) => setNewExpense(prev => ({ ...prev, date: e.target.value }))}
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                          />
                        </div>
                      </div>

                      <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-4">
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">ÈáëÈ°çË®àÁÆó</label>
                          <input
                            type="text"
                            value={newExpense.calculatorInput}
                            onChange={(e) => setNewExpense(prev => ({ ...prev, calculatorInput: e.target.value }))}
                            placeholder="‰æã: 200*3+150"
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                          />
                          <div className="text-xs text-gray-500 mt-1">
                            Ë®àÁÆóÁµêÊûú: {newExpense.calculatorInput ? calculateAmount(newExpense.calculatorInput) : 0}
                          </div>
                        </div>
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">ÊàñÁõ¥Êé•Ëº∏ÂÖ•ÈáëÈ°ç</label>
                          <input
                            type="number"
                            value={newExpense.amount}
                            onChange={(e) => setNewExpense(prev => ({ ...prev, amount: e.target.value }))}
                            placeholder="ÈáëÈ°ç"
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                          />
                        </div>
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">Âπ£Âà•</label>
                          <select
                            value={newExpense.currency}
                            onChange={(e) => setNewExpense(prev => ({ ...prev, currency: e.target.value }))}
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                          >
                            <option value="THB">Ê≥∞Èäñ (THB)</option>
                            <option value="TWD">Âè∞Âπ£ (TWD)</option>
                          </select>
                        </div>
                      </div>

                      <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">‰ªòÊ¨æÊñπÂºè</label>
                          <select
                            value={newExpense.paidBy}
                            onChange={(e) => setNewExpense(prev => ({ ...prev, paidBy: e.target.value }))}
                            className="w-full p-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500"
                          >
                            <option value="public">ÂÖ¨Ë≤ªÊîØ‰ªò</option>
                            {validFriends.map(friend => (
                              <option key={friend} value={friend}>{friend} ÂÄã‰∫∫ÊîØ‰ªò</option>
                            ))}
                          </select>
                        </div>
                        <div>
                          <label className="block text-sm font-medium text-gray-700 mb-2">‰ΩøÁî®‰∫∫Âì°</label>
                          <div className="flex flex-wrap gap-2">
                            {validFriends.map(friend => (
                              <button
                                key={friend}
                                onClick={() => toggleUsedBy(friend)}
                                className={`px-3 py-1 rounded-full text-sm ${
                                  newExpense.usedBy.includes(friend)
                                    ? 'bg-blue-500 text-white'
                                    : 'bg-gray-200 text-gray-700'
                                }`}
                              >
                                {friend}
                              </button>
                            ))}
                          </div>
                        </div>
                      </div>

                      <div className="flex gap-2">
                        <button
                          onClick={addExpense}
                          className={`px-4 py-2 ${editingExpense ? 'bg-orange-500 hover:bg-orange-600' : 'bg-blue-500 hover:bg-blue-600'} text-white rounded`}
                        >
                          {editingExpense ? 'Êõ¥Êñ∞ÊîØÂá∫' : 'Êñ∞Â¢ûÊîØÂá∫'}
                        </button>
                        <button
                          onClick={editingExpense ? cancelEdit : () => setShowAddExpense(false)}
                          className="px-4 py-2 bg-gray-500 text-white rounded hover:bg-gray-600"
                        >
                          ÂèñÊ∂à
                        </button>
                      </div>
                    </div>
                  )}

                  {/* ÊîØÂá∫ÂàóË°® */}
                  <div className="space-y-3">
                    {expenses.map(expense => (
                      <div key={expense.id} className="bg-white p-4 rounded-lg border border-blue-200">
                        <div className="flex items-center justify-between">
                          <div className="flex-1">
                            <div className="flex items-center gap-4 mb-2">
                              <span className="font-semibold text-lg">{expense.description}</span>
                              <span className="text-blue-600 font-bold">
                                {formatCurrency(expense.amount, expense.currency)}
                              </span>
                              <span className="text-sm text-gray-500">{expense.date}</span>
                            </div>
                            <div className="text-sm text-gray-600">
                              ‰ªòÊ¨æ: {expense.paidBy === 'public' ?
